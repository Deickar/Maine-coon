jQuery(function (e) { "use strict"; function i(e) { e.addClass("error") } function a(e) { e.removeClass("error") } e(".open-miniature-wc-login-popup").magnificPopup({ type: "inline", mainClass: "miniature-wc-login-popup", midClick: !0 }), e(".miniature-wc-login-wrapper .woocommerce-form-login").on("submit", function (n) { var o, c = e(this), r = c.siblings(".miniature-wc-login-notices"), s = c.find("#username"), d = c.find("#password"), p = c.find("#rememberme"); if (r.find("div").remove(), "" === s.val() ? (i(s), o = !0) : a(s), "" === d.val() ? (i(d), o = !0) : a(d), !0 === o) return r.append('<div class="msg failure">' + miniature_wc_popup.fields_required + "</div>"), !1; r.append('<div class="loading">' + miniature_wc_popup.loading_message + "</div>"), r.find(".msg").remove(), e.ajax({ type: "POST", dataType: "json", url: miniature_wc_popup.ajax_url, data: { action: "miniature_wc_popup_ajax_login", username: s.val(), password: d.val(), rememberme: p.is(":checked"), nonce: c.find("#woocommerce-login-nonce").val() }, success: function (e) { r.find(".loading").remove(), !0 === e.success ? (r.append('<div class="loading">' + e.data.message + "</div>"), !1 !== e.data.redirect ? window.location = e.data.redirect : window.location.reload()) : (!0 === e.data.invalid_username ? i(s) : a(s), !0 === e.data.incorrect_password ? i(d) : a(d), r.append('<div class="msg failure">' + e.data.message + "</div>")) }, error: function () { r.append('<div class="msg failure">' + miniature_wc_popup.ajax_error + "</div>") } }), n.preventDefault() }) });